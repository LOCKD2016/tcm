webpackJsonp([11],{141:function(t,e,i){var s=i(11)(i(194),i(234),null,null);t.exports=s.exports},194:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){this.id=this.$route.query.id,this.pre_id=this.$route.query.pre_id,this.id&&this.getQuestion(this.id)},data:function(){return{info:{},id:0,pre_id:0,order:0,answer:"",necessary:"",next_id:0,type:0,tag:0}},methods:{getQuestion:function(t){this.id=t;var e={},i=this;e.qid=t,e.pre_id=this.pre_id,this.$http.post(this.$store.state.apiUrl+"question/show",e).then(function(t){var e=t.data.data;i.info=e,i.order=e.order,i.necessary=e.necessary,e.answer&&(i.answer=e.answer)})},next:function(){var t={},e=this;if(t.qid=this.id,t.order=this.order,t.answer=this.answer,t.necessary=this.necessary,t.pre_id=this.pre_id,""==this.answer&&this.necessary>0)return $api.pop("题目类型为必填"),!1;0==this.tag&&e.$http.post(e.$store.state.apiUrl+"answer/fill",t).then(function(t){e.tag=1,t.data&&(e.next_id=t.data.data.next_id,e.type=t.data.data.qtype,e.next_id||e.$router.push({path:"/my_order/my/"}),e.tag=0)})},dohref:function(){var t=this;0==t.type?t.$router.push({path:"/wzd_radio",query:{id:t.next_id,pre_id:t.pre_id}}):1==t.type?t.$router.push({path:"/wzd_check",query:{id:t.next_id,pre_id:t.pre_id}}):2==t.type?(t.reload(),t.$router.push({path:"/wzd_fill",query:{id:t.next_id,pre_id:t.pre_id}})):t.$router.push({path:"/my_order/my/"})},reload:function(){setTimeout(function(){location.reload()},200)}},watch:{id:function(t){self.answer="",this.getQuestion(t)},next_id:function(t){this.dohref()}}}},234:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fixbody"},[i("header",[i("div",{staticClass:"left",attrs:{onclick:"back()"},on:{click:function(e){t.reload()}}},[i("i",{staticClass:"icon-arrow-left"})]),i("div",{staticClass:"center"},[t._v("填写问诊单")])]),i("div",{attrs:{id:"wrap"}},[i("div",{staticClass:"panel step2"},[t.info.question?i("h3",[t._v(t._s(t.order+1)+"、"+t._s(t.info.question))]):i("h3"),i("div",{staticClass:"main"},[i("label",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],attrs:{placeholder:"请点此输入"},domProps:{value:t.answer},on:{input:function(e){e.target.composing||(t.answer=e.target.value)}}})])]),33==t.id?i("div",{staticClass:"btn btn-block",on:{click:function(e){t.next()}}},[t._v("完成")]):i("div",{staticClass:"btn btn-block",on:{click:function(e){t.next()}}},[t._v("下一题")])])])])},staticRenderFns:[]}}});