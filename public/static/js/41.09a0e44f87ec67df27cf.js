webpackJsonp([41],{103:function(t,a,e){var s=e(11)(e(154),e(209),null,null);t.exports=s.exports},154:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{titType:1,timeType:0,todayDate:"",startDate:"",endDate:"",data:[],dateChoose:!1,healthData:[]}},created:function(){this.$route.params.startDate?(this.startDate=this.$route.params.startDate,this.endDate=this.$route.params.endDate):this.startDate=this.endDate=this.today=(new Date).toLocaleDateString().replace(/\//g,"-"),this.titType=this.$route.params.titType,this.timeType=this.$route.params.timeType,this.startDate=this.$route.params.startDate,this.endDate=this.$route.params.endDate,3==this.timeType&&(this.dateChoose=!0)},mounted:function(){3==this.timeType?this.getDIYData():this.getHealthData()},methods:{qh:function(){3==this.timeType?this.$router.push({name:"健康数据",params:{titType:this.titType,timeType:this.timeType,startDate:this.startDate,endDate:this.endDate}}):this.$router.push({name:"健康数据",params:{titType:this.titType,timeType:this.timeType}})},checkTit:function(t){this.titType=t+1,3==this.timeType?this.getDIYData():this.getHealthData()},getDIYData:function(){this.$http.get(this.$store.state.apiUrl+"health/data/"+this.titType,{params:{startDate:this.startDate,endDate:this.endDate}}).then(function(t){console.log(t),this.custom_data=t.data.data.custom_data,this.setHealthData()})},getHealthData:function(){this.$http.get(this.$store.state.apiUrl+"health/data/"+this.titType).then(function(t){console.log(t),this.dataResult=t,this.dayData=t.data.data.day_data,this.weekData=t.data.data.week_data,this.monthData=t.data.data.month_data,this.setHealthData()})},setHealthData:function(){1==this.titType?this.setDate("systolic","diastolic","heart_rate"):2==this.titType?this.setDate("sugar_before","sugar_after"):3==this.titType?this.setDate("oxygen"):4==this.titType?this.setDate("temp"):5==this.titType&&this.setDate("height","weight","BMI")},setData:function(t,a){this.healthData=[];for(var a=t[a],e=0;e<a.length;e++){var s={};s.time=a[e];for(var i=2;i<arguments.length;i++)if(arguments[i]){var r=[],n=[];if(0==this.timeType){if(2==this.titType){for(var h=[],l=0;l<t.sugar_before.length;l++)h.push(t.sugar_before[l][0]);console.log(h);for(var c=0;c<t.sugar_after.length;c++)h.push(t.sugar_after[c][0]);for(var o=0;o<h.length-1;o++)for(var d=o+1;d<h.length;d++)if(h[o]>h[d]){var u=h[o];h[o]=h[d],h[d]=u}for(var v=0;v<h.length;v++){for(var _="",p="",f=0;f<t.sugar_before.length;f++)if(t.sugar_before[f][0]==h[v]){_=f;break}""!==_?r.push(t.sugar_before[_][1]):r.push("无");for(var g=0;g<t.sugar_after.length;g++)if(t.sugar_after[g][0]==h[v]){p=g;break}""!==p?n.push(t.sugar_after[p][1]):n.push("无")}r.reverse(),n.reverse()}else for(var m=[],v=0;v<t[arguments[i]].length;v++)m.push(t[arguments[i]][v][1]);console.log(r)}else if(2==this.titType){for(var D=0;D<t.sugar_before[1].length;D++)""==t.sugar_before[1][D]&&""==t.sugar_after[1][D]||("sugar_before"==arguments[i]?t.sugar_before[1][D]?r.push(t.sugar_before[1][D]):(t.sugar_before[1][D],r.push("无")):t.sugar_after[1][D]?n.push(t.sugar_after[1][D]):(t.sugar_after[1][D],n.push("无")));r.reverse(),n.reverse()}else{for(var m=[],y=0;y<t[arguments[i]][1].length;y++)""!=t[arguments[i]][1][y]&&m.push(t[arguments[i]][1][y]);m.reverse()}0==this.timeType?2==this.titType?"sugar_before"==arguments[i]?s.sugar_before=r[e]:s.sugar_after=n[e]:s[arguments[i]]=t[arguments[i]][e][1]:2==this.titType?"sugar_before"==arguments[i]?s.sugar_before=r[e]:s.sugar_after=n[e]:s[arguments[i]]=m[e]}this.healthData.push(s),console.log(this.healthData)}},setDate:function(){0==this.timeType?this.setData(this.dayData,"used_days",arguments[0],arguments[1],arguments[2]):1==this.timeType?this.setData(this.weekData,"used_days",arguments[0],arguments[1],arguments[2]):2==this.timeType?this.setData(this.monthData,"used_days",arguments[0],arguments[1],arguments[2]):3==this.timeType&&this.setData(this.custom_data,"used_days",arguments[0],arguments[1],arguments[2])},dateDIY:function(t){function a(t){for(var a=[],e=t-5;e<=t+5;e++)a.push({id:e+"",value:e+""});return a}function e(){for(var t=[],a=1;a<=12;a++)t.push({id:a+"",value:a+""});return t}function s(t){for(var a=[],e=1;e<=t;e++)a.push({id:e+"",value:e+""});return a}var i=this,r=($(t),$(t)),n=new Date,h=n.getFullYear(),l=n.getMonth()+1,c=n.getDate();r.attr("data-year",h),r.attr("data-month",l),r.attr("data-date",c);var o=function(t){t(a(h))},d=function(t,a){a(e())},u=function(t,a,e){if(/^(1|3|5|7|8|10|12)$/.test(a))e(s(31));else if(/^(4|6|9|11)$/.test(a))e(s(30));else{if(!/^2$/.test(a))throw new Error("month is illegal");e(s(t%4==0&&t%100!=0||t%400==0?29:28))}},v=r.attr("data-year"),_=r.attr("data-month"),p=r.attr("data-date");new IosSelect(3,[o,d,u],{title:"日期选择",itemHeight:35,oneLevelId:v,twoLevelId:_,threeLevelId:p,showLoading:!0,callback:function(a,e,s){r.attr("data-year",a.id),r.attr("data-month",e.id),r.attr("data-date",s.id),r.html(a.value+"-"+e.value+"-"+s.value),".start"==t?i.startDate=a.value+"-"+e.value+"-"+s.value:".end"==t&&(i.endDate=a.value+"-"+e.value+"-"+s.value)}})},dodel:function(){$(".layer_pop").addClass("none"),$(".start").html(this.today),$(".end").html(this.today)}}}},209:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"fixbody"},[e("header",[t._m(0),e("div",{staticClass:"center"},[t._v("健康数据")]),e("div",{staticClass:"right",on:{click:function(a){t.qh()}}},[t._v("图表切换")])]),e("div",{attrs:{id:"wrap"}},[e("div",{staticClass:"tab_nv"},[e("p",{class:[1==t.titType?"active":""],on:{click:function(a){t.checkTit(0)}}},[e("span",[t._v("血压")])]),e("p",{class:[2==t.titType?"active":""],on:{click:function(a){t.checkTit(1)}}},[e("span",[t._v("血糖")])]),e("p",{class:[3==t.titType?"active":""],on:{click:function(a){t.checkTit(2)}}},[e("span",[t._v("血氧")])]),e("p",{class:[4==t.titType?"active":""],on:{click:function(a){t.checkTit(3)}}},[e("span",[t._v("体温")])]),e("p",{class:[5==t.titType?"active":""],on:{click:function(a){t.checkTit(4)}}},[e("span",[t._v("体质")])])]),t.dateChoose?e("div",{staticClass:"date"},[e("div",{staticClass:"timebox"},[e("p",{staticClass:"start",on:{click:function(a){t.dateDIY(".start")}}},[t._v(t._s(t.startDate))]),e("p",{staticClass:"end",on:{click:function(a){t.dateDIY(".end")}}},[t._v(t._s(t.endDate))]),e("div",{staticClass:"icon-arrow-right-b"})]),e("div",{staticClass:"select",on:{click:t.getDIYData}},[t._v("查  询")])]):t._e(),1==t.titType?e("div",{staticClass:"sjBox"},[t._m(1),e("div",{staticClass:"table"},t._l(t.healthData,function(a){return e("div",{staticClass:"tr"},[e("div",{staticClass:"td active"},[t._v(t._s(a.time))]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.systolic)+"  mmHg")])]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.diastolic)+"  mmHg")])]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.heart_rate)+"  bpm")])])])}))]):t._e(),2==t.titType?e("div",{staticClass:"sjBox sjBox2"},[t._m(2),e("div",{staticClass:"table"},t._l(t.healthData,function(a){return e("div",{staticClass:"tr"},[e("div",{staticClass:"td active"},[t._v(t._s(a.time))]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.sugar_before))]),"无"!=a.sugar_before?e("span",[t._v(" mmol/L")]):t._e()]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.sugar_after))]),"无"!=a.sugar_after?e("span",[t._v(" mmol/L")]):t._e()])])}))]):t._e(),3==t.titType?e("div",{staticClass:"sjBox sjBox3"},[t._m(3),e("div",{staticClass:"table"},t._l(t.healthData,function(a){return e("div",{staticClass:"tr"},[e("div",{staticClass:"td active"},[t._v(t._s(a.time))]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.oxygen)+"  %")])])])}))]):t._e(),4==t.titType?e("div",{staticClass:"sjBox sjBox3"},[t._m(4),e("div",{staticClass:"table"},t._l(t.healthData,function(a){return e("div",{staticClass:"tr"},[e("div",{staticClass:"td active"},[t._v(t._s(a.time))]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.temp)+"  ℃")])])])}))]):t._e(),5==t.titType?e("div",{staticClass:"sjBox"},[t._m(5),e("div",{staticClass:"table"},t._l(t.healthData,function(a){return e("div",{staticClass:"tr"},[e("div",{staticClass:"td active"},[t._v(t._s(a.time))]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.height)+"  cm")])]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.weight)+"  kg")])]),e("div",{staticClass:"td"},[e("span",[t._v(t._s(a.BMI))])])])}))]):t._e()])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"left",attrs:{onclick:"back()"}},[e("i",{staticClass:"icon-arrow-left"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list_tit"},[e("p",[t._v("时间")]),e("p",[t._v("收缩压")]),e("p",[t._v("舒张压")]),e("p",[t._v("心率")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list_tit"},[e("p",[t._v("时间")]),e("p",[t._v("餐前血糖值")]),e("p",[t._v("餐后血糖值")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list_tit"},[e("p",[t._v("时间")]),e("p",[t._v("血氧值")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list_tit"},[e("p",[t._v("时间")]),e("p",[t._v("体温")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list_tit"},[e("p",[t._v("时间")]),e("p",[t._v("身高")]),e("p",[t._v("体重")]),e("p",[t._v("BMI")])])}]}}});