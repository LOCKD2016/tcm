webpackJsonp([26],{121:function(t,a,i){var e=i(11)(i(174),i(237),null,null);t.exports=e.exports},174:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={created:function(){this.id=this.$route.query.id},mounted:function(){this.getInfo()},data:function(){return{family_id:0,id:0,info:{},data:{},me:{},detail:{},sex:"",date:[],birthday:"",nickname:"",headimgurl:"",comCountry:["中国","韩国","美国","日本","缅甸","越南","加拿大","法国","印度","德国","澳大利亚","新加坡","英国","意大利","西班牙","泰国","马来西亚","菲律宾","印度尼西亚","俄罗斯","以色列","巴基斯坦","新西兰","土耳其","伊拉克","伊朗","沙特阿拉伯"]}},methods:{getInfo:function(){this.$http.get(this.$store.state.apiUrl+"user/detail").then(function(t){this.info=t.data.data,0==this.info.height&&(this.info.height=""),0==this.info.weight&&(this.info.weight=""),0==this.info.sex?this.info.sex="":1==this.info.sex?this.info.sex="男":2==this.info.sex&&(this.info.sex="女"),this.date=this.info.birthday.split("-"),this.birthday=this.info.birthday,this.$nextTick(function(){0==this.date[2].indexOf(0)&&(this.date[2]=this.date[2].substr(1)),$("#showDate").html(this.date[0]+"年"+this.date[1]+"月"+this.date[2]+"日")})})},bg:function(t){if(t)return"background-image:url("+t+")"},save:function(){this.info.realname&&(this.data.realname=this.info.realname);var t=$("#showDate").attr("data-month")<10?"0"+$("#showDate").attr("data-month"):$("#showDate").attr("data-month"),a=$("#showDate").attr("data-date")<10?"0"+$("#showDate").attr("data-date"):$("#showDate").attr("data-date");return t>0&&a>0&&(this.birthday=$("#showDate").attr("data-year")+"-"+t+"-"+a),this.birthday&&(this.data.birthday=this.birthday),this.info.sex&&(this.data.sex=this.info.sex,"男"==this.data.sex?this.data.sex=1:"女"==this.data.sex&&(this.data.sex=2)),this.info.mobile&&(this.data.mobile=this.info.mobile),this.data.realname?this.data.sex?this.data.mobile?(parseInt(this.info.height)>0&&(this.data.height=this.info.height),parseInt(this.info.weight)>0&&(this.data.weight=this.info.weight),this.data.province=this.info.province||"北京市",this.data.city=this.info.city||"北京市",this.data.area=this.info.area||"东城区",this.info.idNo?(this.data.idNo=this.info.idNo,void this.$http.post(this.$store.state.apiUrl+"user/edit",this.data).then(function(t){1==t.data.status?($api.pop("保存成功"),this.$router.back()):$api.pop(t.data.msg)})):($api.pop("身份证号不能为空"),!1)):($api.pop("手机号不能为空"),!1):($api.pop("性别为必填项"),!1):($api.pop("姓名不能为空"),!1)},setAddr:function(t,a){var i=this;$("input").blur();var e=$(t).attr("data-province-code"),s=$(t).attr("data-city-code"),n=$(t).attr("data-district-code");new IosSelect(3,[iosProvinces,iosCitys,iosCountys],{title:"地址选择",itemHeight:40,relation:[1,1,0,0],oneLevelId:e,twoLevelId:s,threeLevelId:n,callback:function(e,s,n){$(t).attr("data-province-code",e.id).attr("data-city-code",s.id).attr("data-district-code",n.id),i.info.province=e.value,i.info.city=s.value,i.info.area=n.value,a&&a([e.id,s.id,n.id])}})},shengri:function(){function t(t){for(var a=[],i=t-217;i<=t+25;i++)a.push({id:i+"",value:i+"年"});return a}function a(){for(var t=[],a=1;a<=12;a++)t.push({id:a+"",value:a+"月"});return t}function i(t){for(var a=[],i=1;i<=t;i++)a.push({id:i+"",value:i+"日"});return a}var e=$("#showDate"),s=new Date,n=s.getFullYear(),o=s.getMonth()+1,r=s.getDate();e.attr("data-year",n),e.attr("data-month",o),e.attr("data-date",r);var l=function(a){a(t(n))},d=function(t,i){i(a())},c=function(t,a,e){if(/^1|3|5|7|8|10|12$/.test(a))e(i(31));else if(/^4|6|9|11$/.test(a))e(i(30));else{if(!/^2$/.test(a))throw new Error("month is illegal");e(i(t%4==0&&t%100!=0||t%400==0?29:28))}},h=e.attr("data-year"),f=e.attr("data-month"),u=e.attr("data-date");new IosSelect(3,[l,d,c],{title:"出生日期选择",itemHeight:35,relation:[1,1],oneLevelId:h,twoLevelId:f,threeLevelId:u,showLoading:!1,callback:function(t,a,i){e.attr("data-year",t.id),e.attr("data-month",a.id),e.attr("data-date",i.id),e.html(t.value+" "+a.value+" "+i.value)}})}}}},237:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{attrs:{id:"wrap"}},[t._m(0),t._m(1),i("div",{staticClass:"layer_pop none"},[i("div",{staticClass:"content"},[i("div",{staticClass:"txt hs"},[t._v("请认真核实您的个人信息，是否要保存")]),i("div",{staticClass:"pop_btn clearfix"},[i("div",{staticClass:"p_btn l",on:{click:function(a){t.save()}}},[t._v("确定")]),i("div",{staticClass:"p_btn",attrs:{onclick:"$('.layer_pop').fadeOut()"}},[t._v("取消")])])])]),i("ul",{staticClass:"list-group"},[i("li",[t._m(2),i("div",{staticClass:"val"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.realname,expression:"info.realname"}],attrs:{type:"text",maxlength:"6",placeholder:"请输入真实姓名"},domProps:{value:t.info.realname},on:{input:function(a){a.target.composing||t.$set(t.info,"realname",a.target.value)}}})]),i("i",{staticClass:"icon-arrow-right"})]),i("li",[t._m(3),i("div",{staticClass:"val"},[t._v(t._s(t.info.sex))]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.info.sex,expression:"info.sex"}],on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.info,"sex",a.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"男"}},[t._v("男")]),i("option",{attrs:{value:"女"}},[t._v("女")])]),i("i",{staticClass:"icon-arrow-right"})]),i("li",{on:{click:function(a){t.shengri()}}},[t._m(4),i("div",{staticClass:"val",attrs:{"data-year":"","data-month":"","data-date":"",id:"showDate"}}),i("i",{staticClass:"icon-arrow-right"})]),i("li",[t._m(5),i("div",{staticClass:"val"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.mobile,expression:"info.mobile"}],attrs:{type:"tel",maxlength:"11",placeholder:"不可修改",readonly:"readonly"},domProps:{value:t.info.mobile},on:{input:function(a){a.target.composing||t.$set(t.info,"mobile",a.target.value)}}})])]),i("li",[t._m(6),i("div",{staticClass:"val"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.idNo,expression:"info.idNo"}],attrs:{type:"tel",maxlength:"18",placeholder:"请输入身份证号"},domProps:{value:t.info.idNo},on:{input:function(a){a.target.composing||t.$set(t.info,"idNo",a.target.value)}}})]),i("i",{staticClass:"icon-arrow-right"})]),i("li",[i("a",[t._v("身高")]),i("div",{staticClass:"val cm"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.height,expression:"info.height"}],attrs:{type:"tel",maxlength:"3",placeholder:"0"},domProps:{value:t.info.height},on:{input:function(a){a.target.composing||t.$set(t.info,"height",a.target.value)}}})]),i("i",{staticClass:"icon-arrow-right"})]),i("li",[i("a",[t._v("体重")]),i("div",{staticClass:"val kg"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.info.weight,expression:"info.weight"}],attrs:{type:"tel",maxlength:"3",placeholder:"0"},domProps:{value:t.info.weight},on:{input:function(a){a.target.composing||t.$set(t.info,"weight",a.target.value)}}})]),i("i",{staticClass:"icon-arrow-right"})]),i("li",{on:{click:function(a){t.setAddr("#city")}}},[i("a",[t._v("常居住地")]),i("div",{staticClass:"val",attrs:{id:"city"}},[t._v(t._s(t.info.province||"北京市")+" "+t._s(t.info.city||"北京市")+" "+t._s(t.info.area||"东城区"))]),i("i",{staticClass:"icon-arrow-right"})])]),i("ul",{staticClass:"list-group"})])},staticRenderFns:[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("header",[i("div",{staticClass:"left",attrs:{onclick:"back()"}},[i("i",{staticClass:"icon-arrow-left"})]),i("div",{staticClass:"center"},[t._v("个人资料")]),i("div",{staticClass:"right",attrs:{onclick:"$('.layer_pop').fadeIn()"}},[i("span",{staticStyle:{"font-size":".24rem"}},[t._v("保存")])])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"tips"},[i("div",{staticClass:"icon-tit"},[i("i")]),i("span",[t._v("请认真填写，有助于医生为您更好的服务")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",[i("span",{staticClass:"lab"},[t._v("*")]),t._v("真实姓名")])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",[i("span",{staticClass:"lab"},[t._v("*")]),t._v("性别")])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",[i("span",{staticClass:"lab"},[t._v("*")]),t._v("生日")])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",[i("span",{staticClass:"lab"},[t._v("*")]),t._v("手机号")])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",[i("span",{staticClass:"lab"},[t._v("*")]),t._v("身份证号")])}]}}});