webpackJsonp([42],{102:function(t,e,a){var s=a(11)(a(153),a(220),null,null);t.exports=s.exports},153:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(31),i=a.n(s);e.default={data:function(){return{pressure:{},sugar:{},oxygen:{},temperature:{},constitution:{},before_meal:0,after_meal:0,status:"",msg:""}},created:function(){this.type=this.$route.query.type,this.titType=this.$route.query.titType},mounted:function(){this.getFormat()},methods:{back:function(){this.$router.push("/data/1/0")},getFormat:function(){var t="",e=new Date;t+=e.getFullYear()+"-",t+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,t+="-",t+=e.getDate()<10?"0"+e.getDate():e.getDate(),t+="T",t+=e.getHours()<10?"0"+e.getHours():e.getHours(),t+=":",t+=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),t+=":00",document.getElementsByClassName("chooseDate")[0].value=t,this.pressure.date=this.sugar.date=this.oxygen.date=this.temperature.date=this.constitution.date=t},dodel:function(){$(".layer_pop").addClass("none")},setData:function(t){var e=this;$(t).blur();var a=[{id:"100",value:"0"},{id:"101",value:"1"},{id:"102",value:"2"},{id:"103",value:"3"},{id:"104",value:"4"},{id:"105",value:"5"},{id:"106",value:"6"},{id:"107",value:"7"},{id:"108",value:"8"},{id:"109",value:"9"}],s=[{id:"200",value:"0"},{id:"201",value:"1"},{id:"202",value:"2"},{id:"203",value:"3"},{id:"204",value:"4"},{id:"205",value:"5"},{id:"206",value:"6"},{id:"207",value:"7"},{id:"208",value:"8"},{id:"209",value:"9"}],i=[{id:"300",value:"0"},{id:"301",value:"1"},{id:"302",value:"2"},{id:"303",value:"3"},{id:"304",value:"4"},{id:"305",value:"5"},{id:"306",value:"6"},{id:"307",value:"7"},{id:"308",value:"8"},{id:"309",value:"9"}],l=document.querySelector(t),o=(document.querySelector(t),l.dataset.one_id),r=(l.dataset.one_value,l.dataset.two_id),n=(l.dataset.two_value,l.dataset.three_id);l.dataset.three_value,new IosSelect(3,[a,s,i],{container:".p_data_lr",title:"健康数据",itemHeight:40,itemShowCount:3,oneLevelId:o,twoLevelId:r,threeLevelId:n,callback:function(a,s,i){var o;if(".sugar_val"==t||".temp_val"==t?(o=parseInt(a.value+s.value+i.value)/10,o=o.toFixed(1)):o=parseInt(a.value+s.value+i.value)+"",l.value=o,console.log(o),l.dataset.one_id=a.id,l.dataset.two_id=s.id,l.dataset.three_id=i.id,l.dataset.one_value=a.value,l.dataset.two_value=s.value,l.dataset.three_value=i.value,".systolic"==t?e.pressure.systolic=o:".diastolic"==t?e.pressure.diastolic=o:".heart_rate"==t?e.pressure.heart_rate=o:".sugar_val"==t?e.sugar.sugar_val=o:".oxygen_val"==t?e.oxygen.oxygen_val=o:".temp_val"==t?e.temperature.temp_val=o:".height"==t?e.constitution.height=o:".weight"==t&&(e.constitution.weight=o),e.constitution.weight&&e.constitution.height){var r=parseInt(e.constitution.weight),n=parseInt(e.constitution.height);e.constitution.BMI=(r/(n*n)*1e4).toFixed(1),$(".BMI").html(e.constitution.BMI)}}});if(1==this.titType||3==this.titType){$('<p class="tip">此为小数位</p>').appendTo(".layer")}},cl:function(t){if(0==t)if(this.pressure.systolic&&this.pressure.diastolic&&this.pressure.heart_rate&&this.pressure.date)if(this.pressure.systolic-0<this.pressure.diastolic-0)this.msg="收缩压应大于舒张压！",$(".layer_pop").removeClass("none");else{var e={};e.date=this.pressure.date.replace("T"," "),e.type=1,e.content=i()({systolic:this.pressure.systolic,diastolic:this.pressure.diastolic,heart_rate:this.pressure.heart_rate}),console.log(e),this.$http.post(this.$store.state.apiUrl+"health/save",e).then(function(e){console.log(e),0==e.data.status?$api.pop(e.data.msg):this.$router.push({path:"/data_cl",query:{titType:t}})})}else this.pressure.date?this.pressure.systolic?this.pressure.diastolic?this.pressure.heart_rate||(this.msg="请输入心率数值"):this.msg="请输入舒张压数值":this.msg="请输入收缩压数值":this.msg="请输入时间",$(".layer_pop").removeClass("none");if(1==t)if(this.sugar.sugar_val&&this.sugar.date&&this.status){var a={};a.date=this.sugar.date.replace("T"," "),a.type=2,a.content=i()({status:this.status,sugar_val:this.sugar.sugar_val}),this.$http.post(this.$store.state.apiUrl+"health/save",a).then(function(e){0==e.data.status?$api.pop(e.data.msg):this.$router.push({path:"/data_cl",query:{titType:t}})})}else this.sugar.date?this.status?this.sugar.sugar_val||(this.msg="请输入血糖数值"):this.msg="请输入状态":this.msg="请输入时间",$(".layer_pop").removeClass("none");if(2==t)if(this.oxygen.oxygen_val&&this.oxygen.date){var s={};s.date=this.oxygen.date.replace("T"," "),s.type=3,s.content=i()({oxygen_val:this.oxygen.oxygen_val}),this.$http.post(this.$store.state.apiUrl+"health/save",s).then(function(e){0==e.data.status?$api.pop(e.data.msg):this.$router.push({path:"/data_cl",query:{titType:t}})})}else this.oxygen.date?this.oxygen.oxygen_val||(this.msg="请输入血氧数值"):this.msg="请输入时间",$(".layer_pop").removeClass("none");if(3==t)if(this.temperature.temp_val&&this.temperature.date){var l={};l.date=this.temperature.date.replace("T"," "),l.type=4,l.content=i()({temp_val:this.temperature.temp_val}),this.$http.post(this.$store.state.apiUrl+"health/save",l).then(function(e){0==e.data.status?$api.pop(e.data.msg):this.$router.push({path:"/data_cl",query:{titType:t}})})}else this.temperature.date?this.temperature.temp_val||(this.msg="请输入体温数值"):this.msg="请输入时间",$(".layer_pop").removeClass("none");if(4==t)if(this.constitution.height&&this.constitution.weight&&this.constitution.date){var o={};o.date=this.constitution.date.replace("T"," "),o.type=5,o.content=i()({height:this.constitution.height,weight:this.constitution.weight,BMI:this.constitution.BMI}),this.$http.post(this.$store.state.apiUrl+"health/save",o).then(function(e){0==e.data.status?$api.pop(e.data.msg):this.$router.push({path:"/data_cl",query:{titType:t}})})}else this.constitution.date?this.constitution.height?this.constitution.weight||(this.msg="请输入体重数值"):this.msg="请输入身高数值":this.msg="请输入时间",$(".layer_pop").removeClass("none")},backTo:function(){$(".cityBox").addClass("none"),$(".lrBox").removeClass("none")},zt:function(){$(".cityBox").removeClass("none"),$(".lrBox").addClass("none")},setMealTime:function(t){1==t?(this.before_meal=1,this.after_meal=0,this.status="餐前"):(this.before_meal=0,this.after_meal=1,this.status="餐后"),$(".cityBox").addClass("none"),$(".lrBox").removeClass("none")}}}},220:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fixbody"},[a("header",[a("div",{staticClass:"left",on:{click:t.back}},[a("i",{staticClass:"icon-arrow-left"})]),0==t.type?a("div",{staticClass:"center"},[t._v("健康数据")]):t._e(),1==t.type?a("div",{staticClass:"center"},[t._v("手动补录")]):t._e(),a("div",{staticClass:"right",on:{click:function(e){t.cl(t.titType)}}},[t._v("保存")])]),0==t.titType?a("div",{staticClass:"lrBox",attrs:{id:"wrap"}},[a("div",{staticClass:"container",staticStyle:{width:"100%",height:"100%",position:"fixed",bottom:"0"}}),a("ul",{staticClass:"list-group"},[a("li",[a("a",[t._v("日期")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pressure.date,expression:"pressure.date"}],staticClass:"chooseDate",attrs:{type:"datetime-local",placeholder:"请选择日期"},domProps:{value:t.pressure.date},on:{input:function(e){e.target.composing||t.$set(t.pressure,"date",e.target.value)}}})])])]),a("ul",{staticClass:"list-group data_lr"},[a("li",[a("a",[t._v("收缩压")]),a("div",{staticClass:"val"},[a("input",{staticClass:"systolic",attrs:{type:"text",placeholder:""},on:{click:function(e){t.setData(".systolic")}}}),a("span",[t._v("mmHg")])])]),a("li",[a("a",[t._v("舒张压")]),a("div",{staticClass:"val"},[a("input",{staticClass:"diastolic",attrs:{type:"text"},on:{click:function(e){t.setData(".diastolic")}}}),a("span",[t._v("mmHg")])])]),a("li",[a("a",[t._v("心率")]),a("div",{staticClass:"val"},[a("input",{staticClass:"heart_rate",attrs:{type:"text"},on:{click:function(e){t.setData(".heart_rate")}}}),a("span",[t._v("bpm")])])])])]):t._e(),1==t.titType?a("div",{staticClass:"lrBox",attrs:{id:"wrap"}},[a("ul",{staticClass:"list-group"},[a("li",[a("a",[t._v("时间")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sugar.date,expression:"sugar.date"}],staticClass:"chooseDate",attrs:{type:"datetime-local",placeholder:"请选择时间"},domProps:{value:t.sugar.date},on:{input:function(e){e.target.composing||t.$set(t.sugar,"date",e.target.value)}}})])])]),a("ul",{staticClass:"list-group data_lr"},[a("li",{on:{click:function(e){t.zt()}}},[a("a",[t._v("状态")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],attrs:{type:"text",placeholder:"",readonly:"readonly"},domProps:{value:t.status},on:{input:function(e){e.target.composing||(t.status=e.target.value)}}})]),a("i",{staticClass:"icon-arrow-right"})]),a("li",[a("a",[t._v("血糖值")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sugar.sugar_val,expression:"sugar.sugar_val"}],staticClass:"sugar_val",attrs:{type:"text",placeholder:""},domProps:{value:t.sugar.sugar_val},on:{click:function(e){t.setData(".sugar_val")},input:function(e){e.target.composing||t.$set(t.sugar,"sugar_val",e.target.value)}}}),a("span",[t._v("mmol/L")])])])])]):t._e(),2==t.titType?a("div",{staticClass:"lrBox",attrs:{id:"wrap"}},[a("ul",{staticClass:"list-group data_lr"},[a("li",[a("a",[t._v("时间")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oxygen.date,expression:"oxygen.date"}],staticClass:"chooseDate",attrs:{type:"datetime-local",placeholder:"请选择时间"},domProps:{value:t.oxygen.date},on:{input:function(e){e.target.composing||t.$set(t.oxygen,"date",e.target.value)}}})])]),a("li",[a("a",[t._v("血氧值")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oxygen.oxygen_val,expression:"oxygen.oxygen_val"}],staticClass:"oxygen_val",attrs:{type:"text",placeholder:""},domProps:{value:t.oxygen.oxygen_val},on:{click:function(e){t.setData(".oxygen_val")},input:function(e){e.target.composing||t.$set(t.oxygen,"oxygen_val",e.target.value)}}}),a("span",[t._v("%")])])])])]):t._e(),3==t.titType?a("div",{staticClass:"lrBox",attrs:{id:"wrap"}},[a("ul",{staticClass:"list-group data_lr"},[a("li",[a("a",[t._v("时间")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.temperature.date,expression:"temperature.date"}],staticClass:"chooseDate",attrs:{type:"datetime-local",placeholder:"请选择时间"},domProps:{value:t.temperature.date},on:{input:function(e){e.target.composing||t.$set(t.temperature,"date",e.target.value)}}})])]),a("li",[a("a",[t._v("体温值")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.temperature.temp_val,expression:"temperature.temp_val"}],staticClass:"temp_val",attrs:{type:"text",placeholder:""},domProps:{value:t.temperature.temp_val},on:{click:function(e){t.setData(".temp_val")},input:function(e){e.target.composing||t.$set(t.temperature,"temp_val",e.target.value)}}}),a("span",[t._v("℃")])])])])]):t._e(),4==t.titType?a("div",{staticClass:"lrBox",attrs:{id:"wrap"}},[a("ul",{staticClass:"list-group"},[a("li",[a("a",[t._v("时间")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.constitution.date,expression:"constitution.date"}],staticClass:"chooseDate",attrs:{type:"datetime-local",placeholder:"请选择时间"},domProps:{value:t.constitution.date},on:{input:function(e){e.target.composing||t.$set(t.constitution,"date",e.target.value)}}})])])]),a("ul",{staticClass:"list-group data_lr"},[a("li",[a("a",[t._v("身高")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.constitution.height,expression:"constitution.height"}],staticClass:"height",attrs:{type:"text",placeholder:""},domProps:{value:t.constitution.height},on:{click:function(e){t.setData(".height")},input:function(e){e.target.composing||t.$set(t.constitution,"height",e.target.value)}}}),a("span",[t._v("cm")])])]),a("li",[a("a",[t._v("体重")]),a("div",{staticClass:"val"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.constitution.weight,expression:"constitution.weight"}],staticClass:"weight",attrs:{type:"text",placeholder:""},domProps:{value:t.constitution.weight},on:{click:function(e){t.setData(".weight")},input:function(e){e.target.composing||t.$set(t.constitution,"weight",e.target.value)}}}),a("span",[t._v("kg")])])]),t._m(0)])]):t._e(),a("div",{staticClass:"cityBox none"},[a("header",[a("div",{staticClass:"left",on:{click:function(e){t.backTo()}}},[a("i",{staticClass:"icon-arrow-left"})]),a("div",{staticClass:"center"},[t._v("状态")])]),a("ul",[a("li",{class:{active:1==t.before_meal},on:{click:function(e){t.setMealTime(1)}}},[t._v("餐前"),a("i",{staticClass:"icon-check"})]),a("li",{class:{active:1==t.after_meal},on:{click:function(e){t.setMealTime(2)}}},[t._v("餐后"),a("i",{staticClass:"icon-check"})])])]),a("div",{staticClass:"layer_pop none"},[a("div",{staticClass:"content"},[a("div",{staticClass:"txt"},[t._v(t._s(t.msg))]),a("div",{staticClass:"pop_btn clearfix"},[a("div",{staticClass:"p_btn l",staticStyle:{width:"100%"},on:{click:function(e){t.dodel()}}},[t._v("确定")])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",[t._v("BMI")]),a("div",{staticClass:"val"},[a("p",{staticClass:"BMI"})])])}]}}});