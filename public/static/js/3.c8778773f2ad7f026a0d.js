webpackJsonp([3],{175:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{lists:[],tag:0,delid:0,logistic:[],page:1,swiper:"",statusOrder:!0}},mounted:function(){this.getList();var t=this;setTimeout(function(){t.swiper=new Swiper(".swiper-container",{direction:"vertical",slidesPerView:"auto",observer:!0,observeParents:!0,mousewheelControl:!0,freeMode:!0,resistanceRatio:.7,preventLinksPropagation:!0,preventClicks:!0,onTouchEnd:function(s){console.log(s);var e=s.height,a=s.virtualSize;s.translate<=e-a-50&&s.translate<0&&t.statusOrder&&($(".visible").html("正在加载..."),t.getList())}})},400)},events:{update:function(){this.getList()}},filters:{money:function(t){return isEmpty(t.is_first)?"诊费：¥ "+t.doctor.clinic_money:"复诊费：¥ "+t.doctor.return_money},returnStatus:function(t){switch(t){case 0:return"未支付";case 2:return"正在支付";case 5:return"已支付";case 7:return"已过期";case 9:return"退款中";case 10:return"已退款"}}},methods:{find:function(t){this.$router.push({path:"/point",query:{id:t}})},loadMore:function(){this.statusOrder&&this.getList()},getList:function(){var t=this,s=$(".orderBOX").find(".visible");this.$http({url:this.$store.state.apiUrl+"order/lists?include=bespeak.doctor,bespeak.clinique,goods,prescription",method:"GET",params:{page:this.page}}).then(function(e){console.log(e),e.data.data.list.forEach(function(s){t.lists.push(s)}),t.page++,s.show(),t.page>e.data.data.totalPage?(s.html("没有更多数据了"),t.statusOrder=!1):(s.html("点击加载"),t.statusOrder=!0),setTimeout(function(){t.swiper.update()},400)})},delDeal:function(t){$(".layer_pop").removeClass("none"),this.delid=t},canceldel:function(){$(".layer_pop").addClass("none")},dodel:function(){var t=this,s=this.delid;s&&t.$http.get(t.$store.state.apiUrl+"order/del/"+s).then(function(s){1==s.data.status?t.getList():$api.pop(s.data.msg)}),$(".layer_pop").addClass("none"),this.getList()},number:function(t){this.$http.get(this.$store.state.apiUrl+"order/"+t).then(function(t){1==t.data.status&&(this.logistic=t.data.data,$(".pop").fadeIn())})},logistics:function(t){this.$router.push({path:"/logistics",query:{id:t}})},detShop:function(t,s){1==s||2==s?this.$router.push({path:"/myorder_details",query:{id:t}}):0==s?this.$router.push({path:"/my_order_det/my/id",query:{id:t}}):7==s&&this.$router.push({path:"/cfpy_orderdetails",query:{id:t}})},detSub:function(t){this.$router.push({path:"/myorder_details",query:{id:t}})},bgRcipe:function(t){if(t){return"background-image:url("+JSON.parse(t).recipe_photo+")"}},bg:function(t){if(t)return"background-image:url("+t+")"},cT:function(t){switch(t){case 1:return"已完成";case 2:return"不在线";case 3:return"商城";case 4:return"推荐"}},fill:function(t){var s=this;this.$http.get(this.$store.state.apiUrl+"order/answer/"+t).then(function(e){var a=e.data.data.next_id,i=e.data.data.qtype,r=e.data.data.pre_id;0==i?s.$router.push({path:"/wzd_radio",query:{id:a,pre_id:r}}):1==i?s.$router.push({path:"/wzd_check",query:{id:a,pre_id:r}}):2==i?s.$router.push({path:"/wzd_fill",query:{id:a,pre_id:r}}):3==i?s.$router.push({name:"填写问诊单",params:{id:t}}):s.$router.push({path:"/my_order/my/"})})},recipe:function(t,s){this.$router.push({path:"/prescription/my/id",query:{id:t,comment:s}})},comment:function(t){this.$router.push({path:"/tickling",query:{id:t}})},repay:function(t,s){void 0!==s?this.$router.push({path:"/payment/recipe",query:{order_id:t}}):this.$store.state.tcmuser?this.$router.push({path:"/payment",query:{order_id:t}}):window.location.href="/wechat/payment/?order_id="+t}}}},228:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"fixbody"},[e("header",[e("router-link",{staticClass:"left",attrs:{to:"/my",tag:"a"}},[e("i",{staticClass:"icon-arrow-left"})]),e("div",{staticClass:"center"},[t._v("我的订单")])],1),e("div",{attrs:{id:"wrap"}},[e("div",{staticClass:"swiper-container swiper-container-list"},[e("div",{staticClass:"orderBOX swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},[t._l(t.lists,function(s){return e("div",{staticClass:"order_list"},[1==s.order_type?e("div",{staticClass:"mark",attrs:{type:1}}):t._e(),2==s.order_type?e("div",{staticClass:"mark",attrs:{type:2}}):t._e(),3==s.order_type?e("div",{staticClass:"mark",attrs:{type:3}}):t._e(),1==s.order_type?e("div",{staticClass:"head"},[t._v("门诊预约订单"+t._s(t._f("returnStatus")(s.status))+"h_nav1")]):t._e(),2==s.order_type?e("div",{staticClass:"head"},[t._v("在线咨询预约订单"+t._s(t._f("returnStatus")(s.status)))]):t._e(),3==s.order_type?e("div",{staticClass:"head"},[t._v("药方订单"+t._s(t._f("returnStatus")(s.status)))]):t._e(),1==s.order_type?[e("div",{staticClass:"main",on:{click:function(e){t.detSub(s.id,s.order_type)}}},[s.bespeak?e("div",{staticClass:"doctors"},[s.bespeak.data.doctor.data.photoSUrl?e("div",{staticClass:"avatar",style:t.bg(s.bespeak.data.doctor.data.photoSUrl)}):e("div",{staticClass:"avatar",style:t.bg("/img/doctor_default.png")}),e("h3",[t._v(t._s(s.bespeak.data.doctor.data.name))]),e("p",[t._v(t._s(s.bespeak.data.doctor.data.titleName))])]):t._e(),s.bespeak.data.clinique?e("div",{staticClass:"hospital"},[e("i",{staticClass:"addr_a"}),e("h3",[t._v(t._s(s.bespeak.data.clinique.data.name))]),e("p",[t._v(t._s(s.bespeak.data.clinique.data.address))])]):t._e()]),e("div",{staticClass:"foot"},[e("div",{staticClass:"price"},[e("span",[t._v("医师服务费：￥")]),e("b",[t._v(t._s(s.amount))])]),1==s.express?e("div",{staticClass:"btn btn-o btn-jv",on:{click:function(e){t.logistics(s.id)}}},[t._v("查看物流")]):t._e(),0==s.status||2==s.status?e("div",{staticClass:"btn btn-o btn-jv",on:{click:function(e){t.repay(s.id)}}},[t._v("立即支付")]):t._e()])]:t._e(),2==s.order_type?[e("div",{staticClass:"main",on:{click:function(e){t.detSub(s.id,s.order_type)}}},[s.bespeak?e("div",{staticClass:"doctors"},[s.bespeak.data.doctor.data.photoSUrl?e("div",{staticClass:"avatar",style:t.bg(s.bespeak.data.doctor.data.photoSUrl)}):e("div",{staticClass:"avatar",style:t.bg("/img/doctor_default.png")}),e("h3",[t._v(t._s(s.bespeak.data.doctor.data.name))]),e("p",[t._v(t._s(s.bespeak.data.doctor.data.titleName))]),e("div",{staticClass:"price_a"},[t._v("诊费：¥ "+t._s(s.amount))])]):t._e()]),e("div",{staticClass:"foot"},[e("div",{staticClass:"price"},[e("span",[t._v("总计：￥")]),e("b",[t._v(t._s(s.amount))])]),0==s.status||2==s.status?e("div",{staticClass:"btn btn-o btn-jv",on:{click:function(e){t.repay(s.id)}}},[t._v("立即支付")]):t._e()])]:t._e(),3==s.order_type?[e("div",{staticClass:"main",on:{click:function(e){t.detSub(s.id,s.order_type)}}},[s.prescription?e("div",{staticClass:"medicine"},[e("p",[t._v("处方")]),e("div",{staticClass:"price_a"},[t._v("￥"+t._s(s.prescription.data.medicine_price))]),e("p"),s.prescription.data.tisane?e("p",[t._v("代煎")]):t._e(),1==s.prescription.data.tisane?e("div",{staticClass:"price_a"},[t._v("￥ "+t._s(s.prescription.data.tisane_price))]):t._e(),e("p"),s.prescription.data.express?e("p",[t._v("快递地址 :"),e("span",[t._v(t._s(s.order_user.country)+" "+t._s(s.order_user.province)+" "+t._s(s.order_user.city)+" "+t._s(s.order_user.district)+" "+t._s(s.order_user.address))])]):t._e(),s.prescription.data.express?e("p",[t._v("收货人 :"),e("span",[t._v(t._s(s.order_user.name)+" "+t._s(s.order_user.mobile))])]):t._e()]):t._e()]),e("div",{staticClass:"foot"},[e("div",{staticClass:"price"},[e("span",[t._v("总计：￥")]),e("b",[t._v(t._s(s.amount))])]),0==s.status||2==s.status?e("div",{staticClass:"btn btn-o btn-jv",on:{click:function(e){t.repay(s.id,"recipe")}}},[t._v("立即支付")]):t._e()])]:t._e()],2)}),e("div",{staticClass:"visible",on:{click:t.loadMore}})],2)])])]),e("div",{staticClass:"pop"},[e("div",{staticClass:"box"},[t._m(0),e("div",{staticClass:"main"},[e("ul",[e("li",[t._v("快递公司：顺丰快递")]),e("li",[t._v("快递单号："+t._s(t.logistic.express_number))])])]),e("div",{staticClass:"foot",attrs:{onclick:"$('.pop').fadeOut()"}},[t._v("我知道了")])])]),e("div",{staticClass:"layer_pop none"},[e("div",{staticClass:"content"},[e("div",{staticClass:"txt"},[t._v("您确定将该订单取消？")]),e("div",{staticClass:"pop_btn clearfix"},[e("div",{staticClass:"p_btn l",on:{click:function(s){t.dodel()}}},[t._v("确定")]),e("div",{staticClass:"p_btn",on:{click:function(s){t.canceldel()}}},[t._v("取消")])])])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"head"},[e("i",{staticClass:"icon-warning"}),e("span",[t._v("物流状态：已快递")])])}]}},35:function(t,s,e){var a=e(11)(e(175),e(228),null,null);t.exports=a.exports}});